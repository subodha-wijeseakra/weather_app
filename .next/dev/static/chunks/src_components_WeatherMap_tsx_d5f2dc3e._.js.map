{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/user/Desktop/Subodha Wijesekara/Projects/weather/src/components/WeatherMap.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\nimport { WeatherData } from \"@/lib/weather\";\r\n\r\ninterface WeatherMapProps {\r\n    lat: number;\r\n    lon: number;\r\n    city: string;\r\n    data: WeatherData;\r\n}\r\n\r\n// Fix for default Leaflet marker icon missing assets in Next.js\r\nconst customIcon = L.icon({\r\n    iconUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png\",\r\n    iconRetinaUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png\",\r\n    shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\",\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41],\r\n});\r\n\r\nfunction ChangeView({ center }: { center: [number, number] }) {\r\n    const map = useMap();\r\n    useEffect(() => {\r\n        map.setView(center, map.getZoom(), { animate: false });\r\n    }, [center, map]);\r\n    return null;\r\n}\r\n\r\nexport default function WeatherMap({ lat, lon, city, data }: WeatherMapProps) {\r\n    const position: [number, number] = [lat, lon];\r\n    const { current } = data;\r\n\r\n    return (\r\n        <div className=\"w-full h-[400px] rounded-xl overflow-hidden shadow-lg border border-border/10\">\r\n            <MapContainer\r\n                key={`${lat}-${lon}`}\r\n                center={position}\r\n                zoom={10}\r\n                scrollWheelZoom={false}\r\n                className=\"w-full h-full z-0\"\r\n            >\r\n                <ChangeView center={position} />\r\n                <TileLayer\r\n                    attribution='Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\r\n                    url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n                />\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}\"\r\n                />\r\n                <Marker position={position} icon={customIcon}>\r\n                    <Popup>\r\n                        <div className=\"text-center\">\r\n                            <h3 className=\"font-bold text-lg\">{city}</h3>\r\n                            <p>{Math.round(current.temperature)}Â°C</p>\r\n                            <p className=\"capitalize\">{/* Weather condition text could go here */}</p>\r\n                        </div>\r\n                    </Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","useMap","L","WeatherData","WeatherMapProps","lat","lon","city","data","customIcon","icon","iconUrl","iconRetinaUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","ChangeView","t0","$","$i","Symbol","for","center","map","t1","t2","ChangeView[useEffect()]","setView","getZoom","animate","WeatherMap","position","current","t3","t4","t5","t6","t7","temperature","Math","round","t8","t9","t10","t11","t12"],"mappings":"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","ignoreList":[]}}]
}